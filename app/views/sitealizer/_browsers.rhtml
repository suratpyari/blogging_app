<% max_total = @browsers.inject(0) {|m,a| a[:total].to_i > m ? a[:total].to_i : m }%>
<br><br>

<table align=center width=90% border=1 cellpadding=3>
<tr nowrap>
<th width=1>#</th>	
<th width=10>Hits</th>
<th>Browser</th>
<th width=70>Version</th>
<th width=10>Percentage</th>
<th width=200></th>
</tr>
<% i=1; @browsers.each do |browser| width=((browser[:total].to_f/max_total)*200).round; width = 1 if width < 1 %>
<tr nowrap>
<td align=center><%= i %></td>
<td align=center><%= browser[:total] %></td>
<td><%= browser[:browser][:type] %></td>
<td align=left><%= browser[:browser][:version] ? browser[:browser][:version] : 'Unknown' %>&nbsp;</td>
<td align=center><%= sprintf("%000.2f",(browser[:total].to_f/@total_hits)*100) %>%</td>
<td align=left><%=image_tag 'sitealizer/bar.gif', :width => width, :height => 3%></td>
</tr>
<%i+=1; end %>
</table>
